import {ArgsTable, Source, Story, Canvas, Meta} from '@storybook/addon-docs';
import {useArgs} from '@storybook/client-api';
import dedent from 'ts-dedent';
import StoryConfig from '../../../.storybook/story-config.ts';
import Tabs from './Tabs.tsx';
import Tab from '../Tab';
import TabPanel from '../TabPanel';

export const meta = {
  component: Tabs,
  title: StoryConfig.Tabs.hierarchy,
};

<Meta title={meta.title} component={meta.component} />

export const Template = args => {
  const [{value = 0}, updateArgs] = useArgs();
  const handleChange = (event, newValue) => {
    updateArgs({value: newValue});
  };
  return (
    <Box>
      <Tabs value={value} onChange={handleChange} {...args}>
        <Tab label="Tab One" id="tab-0" aria-controls="tabpanel-0" />
        <Tab label="Tab Two" id="tab-1" aria-controls="tabpanel-1" />
        <Tab label="Tab Three" id="tab-2" aria-controls="tabpanel-2" />
        <Tab label="Tab Four" id="tab-3" aria-controls="tabpanel-3" />
        <Tab label="Tab Five" id="tab-4" aria-controls="tabpanel-4" />
      </Tabs>
      <TabPanel value={value} index={0} id="tabpanel-0" aria-labelledby="tab-0">
        Item One
      </TabPanel>
      <TabPanel value={value} index={1} id="tabpanel-1" aria-labelledby="tab-1">
        Item Two
      </TabPanel>
      <TabPanel value={value} index={2} id="tabpanel-2" aria-labelledby="tab-2">
        Item Three
      </TabPanel>
      <TabPanel value={value} index={3} id="tabpanel-3" aria-labelledby="tab-3">
        Item Four
      </TabPanel>
      <TabPanel value={value} index={4} id="tabpanel-4" aria-labelledby="tab-4">
        Item Five
      </TabPanel>
    </Box>
  );
};

# Tabs

- [Overview](#overview)
- [Props](#props)
- [Usage](#usage)
- [Variants](#variants)

## Overview

Tabs component can be used to implement navigation between different views or sections at the same level of hierarchy.

<Canvas>
  <Story name="Overview">{Template.bind({})}</Story>
</Canvas>

## Props

<ArgsTable story="Overview" />

## Usage

Import and use the `Tabs` component in your components as follows.

<Source
  language="jsx"
  dark
  format
  code={dedent`
import Tab from '@oxygen-ui/react/Tab';
import TabPanel from '@oxygen-ui/react/TabPanel';
import Tabs from '@oxygen-ui/react/Tabs';\n
function Demo() {
  return (
    <Box>
      <Tabs value={value} onChange={handleChange}>
        <Tab label="Tab One" id="tab-0" aria-controls="tabpanel-0" />
        <Tab label="Tab Two" id="tab-1" aria-controls="tabpanel-1" />
        <Tab label="Tab Three" id="tab-2" aria-controls="tabpanel-2" />
        <Tab label="Tab Four" id="tab-3" aria-controls="tabpanel-3" />
        <Tab label="Tab Five" id="tab-4" aria-controls="tabpanel-4" />
      </Tabs>
      <TabPanel value={value} index={0} id="tabpanel-0" aria-labelledby="tab-0">
        Item One
      </TabPanel>
      <TabPanel value={value} index={1} id="tabpanel-1" aria-labelledby="tab-1">
        Item Two
      </TabPanel>
      <TabPanel value={value} index={2} id="tabpanel-2" aria-labelledby="tab-2">
        Item Three
      </TabPanel>
      <TabPanel value={value} index={3} id="tabpanel-3" aria-labelledby="tab-3">
        Item Four
      </TabPanel>
      <TabPanel value={value} index={4} id="tabpanel-4" aria-labelledby="tab-4">
        Item Five
      </TabPanel>
    </Box>
  );
}`}
/>

## Variants

### Scrollable

Variation that makes the tabs header scrollable based on the viewport width.

<Canvas>
  <Story name="Scrollable" args={{variant: 'scrollable'}}>
    {Template.bind({})}
  </Story>
</Canvas>
